â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONFIGURACIÃ“N DE API - CORS âœ“                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ ESTRUCTURA CREADA:
â”œâ”€â”€ vite.config.js                    (âœ“ Proxy CORS configurado)
â”œâ”€â”€ .env.local                        (âœ“ Variables locales)
â”œâ”€â”€ .env.development                  (âœ“ Variables desarrollo)
â”œâ”€â”€ .env.production                   (âœ“ Variables producciÃ³n)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ apiConfig.js             (âœ“ Cliente HTTP + Endpoints)
â”‚   â””â”€â”€ hooks/
â”‚       â”œâ”€â”€ useProviders.js          (âœ“ Hook para Providers)
â”‚       â””â”€â”€ usePayouts.js            (âœ“ Hook para Payouts)
â”œâ”€â”€ API_CONFIG.md                     (âœ“ DocumentaciÃ³n completa)
â”œâ”€â”€ API_EXAMPLES.js                   (âœ“ Ejemplos de uso)
â””â”€â”€ check-cors.sh                     (âœ“ Script de verificaciÃ³n)


ğŸ”§ CONFIGURACIÃ“N PRINCIPAL:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

vite.config.js - PROXY para desarrollo:
  /api/* â†’ VITE_BACKEND_URL (default: http://localhost:3000)

Variables de entorno (.env):
  VITE_BACKEND_URL = http://localhost:3000  (URL del backend)
  VITE_API_BASE_URL = /api                  (Ruta proxy)
  VITE_ENV = development                    (Ambiente)


ğŸŒ CLIENTE HTTP:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

import { apiClient, PROVIDERS_ENDPOINTS } from '../config/apiConfig';

âœ“ apiClient.get()     - Peticiones GET
âœ“ apiClient.post()    - Peticiones POST
âœ“ apiClient.put()     - Peticiones PUT
âœ“ apiClient.delete()  - Peticiones DELETE

Manejo automÃ¡tico de:
  - Headers Content-Type
  - Errores HTTP
  - Parsing JSON


ğŸ“¡ HOOKS PERSONALIZADOS:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

useProviders():
  â€¢ getAllProviders()
  â€¢ getProvidersByCountry(country)
  â€¢ getProviderById(id)
  â€¢ getProviderMetrics(providerId)
  â€¢ getProviderByCountryAndName(country, name)
  
  Returns: { providers, loading, error, ...methods }

usePayouts():
  â€¢ getAllPayouts()
  â€¢ getPayoutsByCountry(country)
  â€¢ getPayoutsByProvider(providerId)
  â€¢ getPayoutsByCountryAndProvider(country, provider)
  â€¢ getPayoutsMetrics()
  
  Returns: { payouts, loading, error, ...methods }


ğŸ“ ENDPOINTS CONFIGURADOS:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

PROVIDERS:
  GET /api/providers                    # Todos
  GET /api/providers/country/:country   # Por paÃ­s
  GET /api/providers/:id                # EspecÃ­fico
  GET /api/providers/:id/metrics        # MÃ©tricas
  GET /api/providers/:country/:name     # PaÃ­s + Nombre

PAYOUTS:
  GET /api/payouts                      # Todos
  GET /api/payouts/country/:country     # Por paÃ­s
  GET /api/payouts/provider/:providerId # Por provider
  GET /api/payouts/country/:country/provider/:provider  # Filtrado
  GET /api/payouts/metrics              # MÃ©tricas

SECURITY:
  GET /api/security/score               # Score general
  GET /api/security/score/country/:country  # Por paÃ­s
  GET /api/security/alerts              # Alertas


ğŸ’¡ FLUJO DE PETICIÃ“N EN DESARROLLO:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Frontend                Vite Dev Server         Backend
(localhost:5175)        (Proxy)                 (localhost:3000)
     â”‚                      â”‚                        â”‚
     â”‚ GET /api/providers   â”‚                        â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚
     â”‚                      â”‚ GET /providers         â”‚
     â”‚                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                      â”‚                   Data â”‚
     â”‚                      â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚              Data    â”‚                        â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚
     â”‚                      â”‚                        â”‚


ğŸš€ USO EN COMPONENTES:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

import useProviders from '../hooks/useProviders';

export const MyComponent = ({ country }) => {
  const { providers, loading, error, getProvidersByCountry } = useProviders();

  useEffect(() => {
    getProvidersByCountry(country);
  }, [country, getProvidersByCountry]);

  if (loading) return <div>Cargando...</div>;
  if (error) return <div>Error: {error}</div>;

  return (
    <ul>
      {providers.map((p) => <li key={p.id}>{p.name}</li>)}
    </ul>
  );
};


âœ… CHECKLIST PRÃ“XIMOS PASOS:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. âœ… CORS y Proxy configurados
2. âœ… Cliente HTTP creado (apiConfig.js)
3. âœ… Hooks personalizados creados
4. âœ… Variables de entorno configuradas
5. âœ… DocumentaciÃ³n completa

6. â³ PRÃ“XIMO: Conectar componentes a los hooks
   - Reemplazar mockData en Dashboard
   - Usar useProviders en Providers.jsx
   - Usar usePayouts para filtros

7. â³ DESPUÃ‰S: Probar con backend real
   - npm run dev
   - Abrir DevTools (F12 â†’ Network)
   - Verificar que /api/* aparecen en Network


ğŸ” CONFIGURACIÃ“N CORS EN BACKEND (IMPORTANTE):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Tu backend debe permitir CORS. Ejemplo en Node/Express:

const cors = require('cors');
app.use(cors({
  origin: ['http://localhost:5175', 'https://yourdomain.com'],
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS']
}));


ğŸ“ DOCUMENTACIÃ“N DISPONIBLE:
  â€¢ API_CONFIG.md - GuÃ­a completa
  â€¢ API_EXAMPLES.js - Ejemplos de cÃ³digo
  â€¢ check-cors.sh - Script de verificaciÃ³n


Â¿LISTO PARA CONECTAR AL BACKEND? âœ¨

Pasos finales:
1. AsegÃºrate que tu backend estÃ© corriendo
2. Verifica VITE_BACKEND_URL en .env.local
3. Reinicia: npm run dev
4. Abre DevTools (F12) â†’ Network â†’ Haz una acciÃ³n
5. DeberÃ­as ver peticiones a /api/*

Â¡Cualquier error aparecerÃ¡ en la consola del navegador!
